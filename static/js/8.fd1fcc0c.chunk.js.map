{"version":3,"sources":["utils/formatTickPrice.ts","utils/formatCurrencyAmount.ts","shared/components/AutoColumn/index.tsx","hooks/useIsTickAtLimit.ts","components/PositionListItem/index.tsx","../node_modules/react-feather/dist/icons/arrow-right.js","components/PositionList/index.tsx","pages/Pool/FilterPanelItem.tsx","pages/Pool/index.tsx"],"names":["formatTickPrice","price","atLimit","direction","placeholder","Bound","LOWER","undefined","formatPrice","formatCurrencyAmount","amount","sigFigs","JSBI","equal","quotient","BigInt","divide","decimalScale","lessThan","Fraction","toSignificant","parseFloat","toFixed","AutoColumn","children","gap","justify","className","useIsTickAtLimit","tickLower","tickUpper","useMemo","nearestUsableTick","TickMath","MIN_TICK","UPPER","MAX_TICK","getPriceOrderingFromPositionForUI","position","token0","amount0","currency","token1","amount1","STABLE_TOKENS_BNB","STABLE_TOKENS_PULSE","some","stable","equals","Object","values","WMATIC_EXTENDED","base","token0PriceUpper","priceLower","invert","priceUpper","token0PriceLower","quote","PositionListItem","positionDetails","newestPosition","highlightNewest","dispatch","useAppDispatch","prevPositionDetails","usePrevious","liquidity","_token0Address","_token1Address","_liquidity","_tickLower","_tickUpper","_onFarming","onFarming","useToken","currency0","unwrappedToken","currency1","usePool","pool","prevPool","_pool","Position","toString","tickAtLimit","currencyQuote","currencyBase","outOfRange","tickCurrent","positionSummaryLink","tokenId","farmingLink","isNewest","removed","eq","useEffect","setShowNewestPosition","showNewestPosition","document","querySelector","scrollIntoView","behavior","to","id","isDark","classes","size","margin","symbol","color","style","marginLeft","inRange","stroke","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","ArrowRight","forwardRef","_ref","ref","_ref$color","_ref$size","rest","React","createElement","xmlns","width","height","viewBox","fill","strokeWidth","strokeLinecap","strokeLinejoin","x1","y1","x2","y2","points","propTypes","PropTypes","string","oneOfType","number","displayName","PositionList","positions","useShowNewestPosition","_positions","map","p","FilterPanelItem","item","title","method","checkValue","Toggle","isActive","toggle","checked","unchecked","Pool","useActiveWeb3React","account","chainId","toggleWalletModal","useWalletModalToggle","useUserHideClosedPositions","userHideClosedPositions","setUserHideClosedPositions","useUserHideFarmingPositions","hideFarmingPositions","useV3Positions","positionsLoading","loading","prevAccount","reduce","acc","isZero","push","openPositions","closedPositions","filters","farmingPositions","filter","el","inRangeWithOutFarmingPositions","filteredPositions","prevFilteredPositions","usePreviousNonEmptyArray","_filteredPositions","Math","max","showConnectAWallet","Boolean","reload","useCallback","window","location","_window","ethereum","on","removeListener","Helmet","Card","active","Loader","sort","posA","posB","Number","onClick","SwitchLocaleLink"],"mappings":"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","file":"static/js/8.fd1fcc0c.chunk.js","sourcesContent":["import { Bound } from '../state/mint/v3/actions'\nimport { Price, Token } from '@uniswap/sdk-core'\nimport { formatPrice } from './formatCurrencyAmount'\n\nexport function formatTickPrice(\n    price: Price<Token, Token> | undefined,\n    atLimit: { [bound in Bound]?: boolean | undefined },\n    direction: Bound,\n    placeholder?: string\n) {\n\n    if (atLimit[direction]) {\n        return direction === Bound.LOWER ? '0' : '∞'\n    }\n\n    if (!price && placeholder !== undefined) {\n        return placeholder\n    }\n\n    return formatPrice(price, 5)\n}\n","import { Currency, CurrencyAmount, Fraction, Price } from '@uniswap/sdk-core'\nimport JSBI from 'jsbi'\n\nexport function formatCurrencyAmount(amount: CurrencyAmount<Currency> | undefined, sigFigs: number) {\n    if (!amount) {\n        return '-'\n    }\n\n    if (JSBI.equal(amount.quotient, JSBI.BigInt(0))) {\n        return '0'\n    }\n\n    if (amount.divide(amount.decimalScale).lessThan(new Fraction(1, 100000))) {\n        return '<0.00001'\n    }\n\n    return amount.toSignificant(sigFigs)\n}\n\nexport function formatPrice(price: Price<Currency, Currency> | undefined, sigFigs: number) {\n    if (!price) {\n        return '-'\n    }\n\n    if (parseFloat(price.toFixed(sigFigs)) < 0.0001) {\n        return '<0.0001'\n    }\n\n    return price.toSignificant(sigFigs)\n}\n","import React from \"react\";\nimport \"./index.scss\";\n\ninterface AutoColumnProps {\n    children?: any;\n    gap?: \"0\" | \"1\" | \"2\" | \"3\";\n    justify?: \"stretch\" | \"center\" | \"start\" | \"end\" | \"flex-start\" | \"flex-end\" | \"space-between\";\n}\n\nconst AutoColumn = ({ children, gap, justify }: AutoColumnProps) => {\n    return <div className={`auto-column-wrapper ${gap && `rg-${gap}`}`}>{children}</div>;\n};\n\nexport default AutoColumn;\n","import { nearestUsableTick, TickMath } from 'lib/src'\nimport { useMemo } from 'react'\nimport { Bound } from 'state/mint/v3/actions'\n\nexport default function useIsTickAtLimit(\n    tickLower: number | undefined,\n    tickUpper: number | undefined\n) {\n    return useMemo(\n        () => ({\n            [Bound.LOWER]:\n                tickLower\n                    // ? tickLower === nearestUsableTick(TickMath.MIN_TICK, TICK_SPACINGS[feeAmount as FeeAmount])\n                    ? tickLower === nearestUsableTick(TickMath.MIN_TICK, 60)\n                    : undefined,\n            [Bound.UPPER]:\n                tickUpper\n                    // ? tickUpper === nearestUsableTick(TickMath.MAX_TICK, TICK_SPACINGS[feeAmount as FeeAmount])\n                    ? tickUpper === nearestUsableTick(TickMath.MAX_TICK, 60)\n                    : undefined\n        }),\n        [tickLower, tickUpper]\n    )\n}\n","import { useEffect, useMemo } from \"react\";\nimport { Position } from \"lib/src\";\nimport DoubleCurrencyLogo from \"components/DoubleLogo\";\nimport { usePool } from \"hooks/usePools\";\nimport { useToken } from \"hooks/Tokens\";\nimport { Price, Token } from \"@uniswap/sdk-core\";\nimport { formatTickPrice } from \"utils/formatTickPrice\";\nimport Loader from \"components/Loader\";\nimport { unwrappedToken } from \"utils/unwrappedToken\";\nimport { STABLE_TOKENS_BNB, STABLE_TOKENS_PULSE, WMATIC_EXTENDED } from \"../../constants/tokens\";\nimport { Trans } from \"@lingui/macro\";\nimport useIsTickAtLimit from \"hooks/useIsTickAtLimit\";\nimport { Bound, setShowNewestPosition } from \"state/mint/v3/actions\";\nimport { ArrowRight } from \"react-feather\";\nimport usePrevious from \"../../hooks/usePrevious\";\nimport { PositionPool } from \"../../models/interfaces\";\nimport { NavLink } from \"react-router-dom\";\nimport Card from \"../../shared/components/Card/Card\";\nimport RangeBadge from \"../Badge/RangeBadge\";\nimport \"./index.scss\";\nimport { useAppDispatch } from \"state/hooks\";\n\ninterface PositionListItemProps {\n    positionDetails: PositionPool;\n    newestPosition?: number | undefined;\n    highlightNewest?: boolean;\n}\n\nexport function getPriceOrderingFromPositionForUI(position?: Position): {\n    priceLower?: Price<Token, Token>;\n    priceUpper?: Price<Token, Token>;\n    quote?: Token;\n    base?: Token;\n} {\n    if (!position) {\n        return {};\n    }\n\n    const token0 = position.amount0.currency;\n    const token1 = position.amount1.currency;\n\n    // if token0 is a dollar-stable asset, set it as the quote token\n    const stables = [...STABLE_TOKENS_BNB, ...STABLE_TOKENS_PULSE];\n    if (stables.some((stable) => stable.equals(token0))) {\n        return {\n            priceLower: position.token0PriceUpper.invert(),\n            priceUpper: position.token0PriceLower.invert(),\n            quote: token0,\n            base: token1,\n        };\n    }\n\n    // if token1 is an ETH-/BTC-stable asset, set it as the base token\n    //TODO\n    // const bases = [...Object.values(WMATIC_EXTENDED), WBTC]\n    const bases = [...Object.values(WMATIC_EXTENDED)];\n    if (bases.some((base) => base.equals(token1))) {\n        return {\n            priceLower: position.token0PriceUpper.invert(),\n            priceUpper: position.token0PriceLower.invert(),\n            quote: token0,\n            base: token1,\n        };\n    }\n\n    // if both prices are below 1, invert\n    if (position.token0PriceUpper.lessThan(1)) {\n        return {\n            priceLower: position.token0PriceUpper.invert(),\n            priceUpper: position.token0PriceLower.invert(),\n            quote: token0,\n            base: token1,\n        };\n    }\n\n    // otherwise, just return the default\n    return {\n        priceLower: position.token0PriceLower,\n        priceUpper: position.token0PriceUpper,\n        quote: token1,\n        base: token0,\n    };\n}\n\nexport default function PositionListItem({ positionDetails, newestPosition, highlightNewest }: PositionListItemProps) {\n    const dispatch = useAppDispatch();\n\n    const prevPositionDetails = usePrevious({ ...positionDetails });\n    const {\n        token0: _token0Address,\n        token1: _token1Address,\n        liquidity: _liquidity,\n        tickLower: _tickLower,\n        tickUpper: _tickUpper,\n        onFarming: _onFarming,\n    } = useMemo(() => {\n        if (!positionDetails && prevPositionDetails && prevPositionDetails.liquidity) {\n            return { ...prevPositionDetails };\n        }\n        return { ...positionDetails };\n    }, [positionDetails]);\n\n    const token0 = useToken(_token0Address);\n    const token1 = useToken(_token1Address);\n\n    const currency0 = token0 ? unwrappedToken(token0) : undefined;\n    const currency1 = token1 ? unwrappedToken(token1) : undefined;\n\n    // construct Position from details returned\n    const [, pool] = usePool(currency0 ?? undefined, currency1 ?? undefined);\n    const prevPool = usePrevious(pool);\n    const _pool = useMemo(() => {\n        if (!pool && prevPool) {\n            return prevPool;\n        }\n        return pool;\n    }, [pool]);\n\n    const position = useMemo(() => {\n        if (_pool) {\n            return new Position({\n                pool: _pool,\n                liquidity: _liquidity.toString(),\n                tickLower: _tickLower,\n                tickUpper: _tickUpper,\n            });\n        }\n        return undefined;\n    }, [_liquidity, _pool, _tickLower, _tickUpper]);\n\n    const tickAtLimit = useIsTickAtLimit(_tickLower, _tickUpper);\n\n    // prices\n    const { priceLower, priceUpper, quote, base } = getPriceOrderingFromPositionForUI(position);\n    const currencyQuote = quote && unwrappedToken(quote);\n    const currencyBase = base && unwrappedToken(base);\n\n    // check if price is within range\n    const outOfRange: boolean = _pool ? _pool.tickCurrent < _tickLower || _pool.tickCurrent >= _tickUpper : false;\n\n    const positionSummaryLink = `/pool/${positionDetails.tokenId}${_onFarming ? \"?onFarming=true\" : \"\"}`;\n\n    const farmingLink = `/farming/farms#${positionDetails.tokenId}`;\n\n    const isNewest = newestPosition ? newestPosition === +positionDetails.tokenId : undefined;\n\n    const removed = _liquidity?.eq(0);\n\n    useEffect(() => {\n        if (newestPosition && highlightNewest) {\n            dispatch(setShowNewestPosition({ showNewestPosition: false }));\n            document.querySelector(\"#newest\")?.scrollIntoView({ behavior: \"smooth\" });\n        }\n    }, []);\n\n    return (\n        <NavLink className={\"w-100\"} to={positionSummaryLink} id={isNewest && highlightNewest ? \"newest\" : \"\"}>\n            <Card isDark={false} classes={\"br-24 p-1 mv-05\"}>\n                <div className={\"position-list-item__header f f-ac\"}>\n                    <div className={\"f f-ac\"}>\n                        <DoubleCurrencyLogo currency0={currencyBase} currency1={currencyQuote} size={24} margin />\n                        <div className={\"b fs-125 mh-05\"}>\n                            &nbsp;{currencyQuote?.symbol}&nbsp;/&nbsp;{currencyBase?.symbol}\n                        </div>\n                        &nbsp;\n                    </div>\n                    <div className={\"position-list-item__header__badges flex-s-between w-100\"}>\n                        {_onFarming ? (\n                            <NavLink className={\"flex-s-between btn primary fs-085 p-025 br-8\"} to={farmingLink}>\n                                <span>\n                                    <Trans>Farming</Trans>\n                                </span>\n                                <ArrowRight size={14} color={\"white\"} style={{ marginLeft: \"5px\" }} />\n                            </NavLink>\n                        ) : (\n                            <div />\n                        )}\n                        <RangeBadge removed={removed} inRange={!outOfRange} />\n                    </div>\n                </div>\n\n                {priceLower && priceUpper ? (\n                    <div className={\"position-list-item__bottom f fs-085 mt-025 mt-05 mxs_fd-c mxs_f-ac\"}>\n                        <div className={\"f mxs_mb-05\"}>\n                            <div className={\"position-list-item__prefix mr-025\"}>\n                                <Trans>Min:</Trans>\n                            </div>\n                            <span className={\"position-list-item__amount\"}>\n                                <Trans>{`${formatTickPrice(priceLower, tickAtLimit, Bound.LOWER)} ${currencyQuote?.symbol} per ${currencyBase?.symbol}`}</Trans>\n                            </span>\n                        </div>\n                        <div className={\"position-list-item__arrow mh-05\"}>⟷</div>\n                        <div className={\"f\"}>\n                            <span className={\"position-list-item__prefix mh-025\"}>\n                                <Trans>Max:</Trans>\n                            </span>\n                            <span className={\"position-list-item__amount\"}>\n                                <Trans>{`${formatTickPrice(priceUpper, tickAtLimit, Bound.UPPER)} ${currencyQuote?.symbol} per ${currencyBase?.symbol}`}</Trans>\n                            </span>\n                        </div>\n                    </div>\n                ) : (\n                    <div className={\"f c f-ac f-jc w-100\"}>\n                        <Loader size={\"1rem\"} stroke={\"var(--loader)\"} />\n                    </div>\n                )}\n            </Card>\n        </NavLink>\n    );\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar ArrowRight = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"5\",\n    y1: \"12\",\n    x2: \"19\",\n    y2: \"12\"\n  }), /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"12 5 19 12 12 19\"\n  }));\n});\nArrowRight.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nArrowRight.displayName = 'ArrowRight';\nexport default ArrowRight;","import PositionListItem from \"components/PositionListItem\";\nimport React, { useMemo } from \"react\";\nimport { Trans } from \"@lingui/macro\";\nimport { PositionPool } from \"../../models/interfaces\";\nimport { useShowNewestPosition } from \"state/mint/v3/hooks\";\n\ntype PositionListProps = React.PropsWithChildren<{\n    positions: PositionPool[];\n    newestPosition: number | undefined;\n}>;\n\nexport default function PositionList({ positions, newestPosition }: PositionListProps) {\n    const showNewestPosition = useShowNewestPosition();\n\n    const _positions = useMemo(() => {\n        if (!positions) {\n            return [];\n        }\n\n        return positions;\n    }, [positions]);\n\n    return (\n        <>\n            <div className={\"flex-s-between w-100 pr-2\"}>\n                <div>\n                    <Trans>Your positions</Trans>\n                    {positions && \" (\" + positions.length + \")\"}\n                </div>\n                <span className={\"hide-xs\"}>\n                    <Trans>Status</Trans>\n                </span>\n            </div>\n            {_positions.map((p) => {\n                return <PositionListItem newestPosition={newestPosition} highlightNewest={showNewestPosition} key={p.tokenId.toString()} positionDetails={p} />;\n            })}\n        </>\n    );\n}\n","import React from 'react'\nimport { Trans } from '@lingui/macro'\nimport Toggle from '../../components/Toggle'\n\ninterface FilterPanelProps {\n    item: {\n        title: string\n        method: (v: boolean) => void\n        checkValue: boolean\n    }\n}\n\nconst FilterPanelItem = ({ item: { title, method, checkValue } }: FilterPanelProps) => {\n    return (\n        <div>\n            <div className={'mb-05 mxs_ta-c'}>\n                <Trans>{title}</Trans>\n            </div>\n            <Toggle\n                isActive={!checkValue}\n                toggle={() => method(!checkValue)}\n                checked={<Trans>Show</Trans>}\n                unchecked={<Trans>Hide</Trans>}\n            />\n        </div>\n    )\n}\n\nexport default FilterPanelItem\n","import { t, Trans } from \"@lingui/macro\";\nimport PositionList from \"components/PositionList\";\nimport { SwitchLocaleLink } from \"components/SwitchLocaleLink\";\nimport { useV3Positions } from \"hooks/useV3Positions\";\nimport { useActiveWeb3React } from \"hooks/web3\";\nimport { useCallback, useEffect, useMemo } from \"react\";\nimport { NavLink, useLocation } from \"react-router-dom\";\nimport { useWalletModalToggle } from \"state/application/hooks\";\nimport { useUserHideClosedPositions, useUserHideFarmingPositions } from \"state/user/hooks\";\nimport { Helmet } from \"react-helmet\";\nimport Loader from \"../../components/Loader\";\nimport FilterPanelItem from \"./FilterPanelItem\";\nimport { PositionPool } from \"../../models/interfaces\";\nimport Card from \"../../shared/components/Card/Card\";\nimport AutoColumn from \"../../shared/components/AutoColumn\";\nimport { SwapPoolTabs } from \"../../components/NavigationTabs\";\nimport \"./index.scss\";\nimport usePrevious, { usePreviousNonEmptyArray } from \"../../hooks/usePrevious\";\nimport { EthereumWindow } from \"models/types\";\nimport { useShowNewestPosition } from \"state/mint/v3/hooks\";\n\nexport default function Pool() {\n    const { account, chainId } = useActiveWeb3React();\n    const toggleWalletModal = useWalletModalToggle();\n\n    const [userHideClosedPositions, setUserHideClosedPositions] = useUserHideClosedPositions();\n    const [hideFarmingPositions, setHideFarmingPositions] = useUserHideFarmingPositions();\n\n    const { positions, loading: positionsLoading } = useV3Positions(account);\n\n    const prevAccount = usePrevious(account);\n\n    const [openPositions, closedPositions] = positions?.reduce<[PositionPool[], PositionPool[]]>(\n        (acc, p) => {\n            acc[p.liquidity?.isZero() ? 1 : 0].push(p);\n            return acc;\n        },\n        [[], []]\n    ) ?? [[], []];\n\n    const filters = [\n        {\n            title: t`Closed`,\n            method: setUserHideClosedPositions,\n            checkValue: userHideClosedPositions,\n        },\n        // {\n        //     title: t`Farming`,\n        //     method: setHideFarmingPositions,\n        //     checkValue: hideFarmingPositions,\n        // },\n    ];\n\n    const farmingPositions = useMemo(() => positions?.filter((el) => el.onFarming), [positions, account, prevAccount]);\n    const inRangeWithOutFarmingPositions = useMemo(() => openPositions.filter((el) => !el.onFarming), [openPositions, account, prevAccount]);\n\n    const filteredPositions = useMemo(\n        () => [...(hideFarmingPositions || !farmingPositions ? [] : farmingPositions), ...inRangeWithOutFarmingPositions, ...(userHideClosedPositions ? [] : closedPositions)],\n        [inRangeWithOutFarmingPositions, userHideClosedPositions, hideFarmingPositions, account, prevAccount]\n    );\n\n    const prevFilteredPositions = usePreviousNonEmptyArray(filteredPositions);\n\n    const _filteredPositions = useMemo(() => {\n        if (account !== prevAccount) return filteredPositions;\n\n        if (filteredPositions.length === 0 && prevFilteredPositions) {\n            return prevFilteredPositions;\n        }\n        return filteredPositions;\n    }, [filteredPositions, account, prevAccount]);\n\n    const showNewestPosition = useShowNewestPosition();\n\n    const newestPosition = useMemo(() => {\n        return Math.max(..._filteredPositions.map((position) => +position.tokenId));\n    }, [showNewestPosition, _filteredPositions]);\n\n    const showConnectAWallet = Boolean(!account);\n\n    let chainSymbol;\n\n    if (chainId === 137) {\n        chainSymbol = \"MATIC\";\n    }\n\n    const reload = useCallback(() => window.location.reload(), []);\n\n    useEffect(() => {\n        const _window = window as EthereumWindow;\n\n        if (!_window.ethereum) return;\n\n        _window.ethereum.on(\"accountsChanged\", reload);\n        return () => _window.ethereum.removeListener(\"accountsChanged\", reload);\n    }, []);\n\n    return (\n        <>\n            <Helmet>\n                <title>{t`LitX — Pool`}</title>\n            </Helmet>\n            <Card classes={\"br-24 ph-2 pv-1 mxs_ph-1\"}>\n                <SwapPoolTabs active={\"pool\"} />\n                <AutoColumn gap=\"1\">\n                    <div className={\"pool__header flex-s-between\"}>\n                        <span className={\"fs-125\"}>\n                            <Trans>Pools Overview</Trans>\n                        </span>\n                        <div className={\"flex-s-between mxs_mv-05\"}>\n                            {/* <NavLink className={\"btn primary p-05 br-8 mr-1\"} id=\"join-pool-button\" to={`/migrate`}>\n                                <Trans>Migrate Pool</Trans>\n                            </NavLink> */}\n                            <NavLink className={\"btn primary p-05 br-8\"} id=\"join-pool-button\" to={`/add`}>\n                                + <Trans>New Position</Trans>\n                            </NavLink>\n                        </div>\n                    </div>\n                    {account && (\n                        <div className={\"f mb-05 rg-2 cg-2 mxs_f-jc\"}>\n                            {filters.map((item, key) => (\n                                <FilterPanelItem item={item} key={key} />\n                            ))}\n                        </div>\n                    )}\n                    <main className={\"f c f-ac\"}>\n                        {positionsLoading ? (\n                            <Loader style={{ margin: \"auto\" }} stroke={\"var(--loader)\"} size={\"2rem\"} />\n                        ) : _filteredPositions && _filteredPositions.length > 0 ? (\n                            <PositionList positions={_filteredPositions.sort((posA, posB) => Number(+posA.tokenId < +posB.tokenId))} newestPosition={newestPosition} />\n                        ) : (\n                            <div className={\"f c f-ac f-jc h-400 w-100 maw-300\"}>\n                                <Trans>You do not have any liquidity positions.</Trans>\n                                {showConnectAWallet && (\n                                    <button className={\"btn primary pv-05 ph-1 mt-1 w-100\"} onClick={toggleWalletModal}>\n                                        <Trans>Connect Wallet</Trans>\n                                    </button>\n                                )}\n                            </div>\n                        )}\n                    </main>\n                </AutoColumn>\n            </Card>\n            <SwitchLocaleLink />\n        </>\n    );\n}\n"],"sourceRoot":""}